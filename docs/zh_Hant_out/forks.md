分支與變種

如前所述，分支會因為最終目標不同而有兩種不同形式。為了清楚解釋如何在兩種形式的分支下處理[publiccode.yml]{.title-ref}，我們在下面定義兩個不同的語義：技術分支與軟體變種。

技術分支 (也就是發布補丁)

開發人員為了改善原始代碼庫或是將改善的程式碼內容寄給原始作者，同時沒有開發與發佈原始軟體的替代變種的意圖時，此時開發人員製作的分支就是技術分支。

在GitHub這些分散式控制系統與程式碼託管與協作平台上，開發人員都利用分支以及傳送合併請求，將他們的程式碼貢獻給現有代碼庫。

有鑒於GitHub與其他平台上處理分支的方式，開發人員發佈其分支時，都標示為原始軟體的完整複製版，因此程式碼中也會包含
[publiccode.yml]{.title-ref}。然而，語法分析器需要能夠分辨技術分支與原始代碼庫。

語法分析器

語法分析器 **應該**能夠注意到top-level[url]{.title-ref}鍵沒有指向包含[publiccode.yml]{.title-ref}的儲存庫，藉此看出這是一個技術分支。

語法分析器 **可能**也可以透過代碼託管平台的元資料(像是GitHub就會清楚標示分支)，分辨技術分支

作者

技術分支作者**不應**修改[publiccode.yml]{.title-ref}。明確來說，他們**絕對不可**修改 **必須**持續指向原始儲存庫的top-level
[url]{.title-ref}鍵。

我們目前沒有設定特定鍵來將分支標示為技術分支。這是刻意的設計決策，因為我們不要技術分支的作者知道[publiccode.yml]{.title-ref}的存在以及如何進行修改。目前的設計不需要作者採取任何行動。

軟體變種

軟體變種是一個分支，是原本上游軟體的替代版本。

當中的修改內容尚未收錄在上游版本當中，像是更多功能、不同的相依性與優化等。

作者一旦將分支標示為變種，代表他們相信變種包含完善的修改內容，對他人可能有用。

將分支標示為變種，**不**關作者是否有意願將程式碼貢獻給上游軟體，但作者可能有此計畫，甚至已經在進行中。因此，雖然分支最終會與整併至上游軟體中，最好還是先將分支標示為變種，方便他人搜尋並且從中受益。

語法分析器

語法分析器**應該**能注意到top-level[url]{.title-ref}鍵與對應具有[publiccode.yml]{.title-ref}的儲存庫，**而且**具有指向不同儲存庫的top-level
[isBasedOn]{.title-ref}鍵，藉此分辨變種。

語法分析器應該能分析軟體不同變種間，在[publiccode.yml]{.title-ref}的差異。明確來說，[description/features]{.title-ref}是用來在不同變種間作比較，藉此找出並且標示出使用者能看出的差異。

作者

願意將分支標示為變種並且發佈的作者至少**必須**：

- 新增[isBasedOn]{.title-ref}鍵，並且指向本變種源自的一或多個上游軟體。
- 變更[url]{.title-ref}的值，將其指向存放該變種的儲存庫。
- 變更[legal/repoOwner]{.title-ref}的值，加入對自己(變種作者本身)的參照。
- 修改[maintenance]{.title-ref}段落，加入對變種維護狀態的參照。

另外，作者**應該**評估以下變動：

- 加入讓人能分辨變種與[description/features]{.title-ref}鍵的功能。現有功能**不應該**被編輯或移除，除非原本就從變種當中移除，這是要方便語法分析器比較功能列表。
